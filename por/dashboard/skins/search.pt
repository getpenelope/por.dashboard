<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  i18n:domain="por"
      metal:use-macro="skin: /main_template">
<body>
  <div metal:fill-slot="body">
    <div class="well">
      <form class="navbar-form pull-left" action="${request.application_url}/search">
        <div class="input-prepend input-append">
              <span class="add-on">searchterm: </span>
              <input class="input-xxlarge" name="searchable" id="searchbox"
                     type="text" value="${request.params.get('searchable')}">
              <span class="add-on"><i class="icon-search"></i></span>
          </div>
          </form>
        </div>
    <p tal:condition="not: results">No results found</p>
    <tal:results condition="results">
      <p>We have found ${results.result.numFound} elemets matching your criteria.</p>
      <table class="table table-bordered time-entries table-condensed">
            <thead>
              <tr>
                <th>type</th>
                <th>project</th>
                <th>title</th>
                <th>description</th>
                <th>authors</th>
                <th>score</th>
              </tr>
            </thead>
            <tbody>
              <tr tal:repeat="doc docs">
                <td>${doc.realm}</td>
                <td>${doc.project}</td>
                <td><a href="${request.application_url}/${doc.href()}"
                    tal:content="structure doc.title"></a></td>
                <td tal:content="structure doc.oneline"></td>
                <td>${doc.author}, ${doc.involved}</td>
                <td>${doc.score}</td>
              </tr>
            </tbody>
          </table>
          <ul class="pager">
            <li tal:condition="previous"><a href="${previous}">Previous</a></li>
            <li tal:condition="next"><a href="${next}">Next</a></li>
          </ul>
      </tal:results>
          <script>
          $(document).ready(function () {$('#searchbox').focus(); });
        </script>
</div>
</body>
</html>
